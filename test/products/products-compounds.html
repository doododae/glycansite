<div class="container" ng-app="Compounds" ng-controller="compoundCtrl">
	<div class="row">
		<div class="col-sm-3">
			<ul id="Products" class="nav nav-pills nav-stacked nav-collapsible">
				<li class="active">Filter Products: </li>
				<li><input type="text" placeholder=" Search..." ng-model="nameFilter"></li>
				<!--<li><a data-toggle="collapse" class="collapsed" ng-click="filterFamily('Az')" data-target="#az-family" data-parent="#Products">Azido Family</a></li>
				<ul id="az-family" class="collapse nav-in-nav"> 
					<li ng-repeat="series in az" class="family-item" ng-class="seriesFilter==series?'nav-'+series:''"><a ng-class="seriesFilter==series?'white-text':''" ng-click="filterSeries(series)">{{series}} Series</a></li>
				</ul>
				<li><a data-toggle="collapse" data-parent="#accordion" class="collapsed" ng-click="filterFamily('pNP')" data-target="#pnp-family" data-parent="#Products">pNP Family</a></li>
				<ul id="pnp-family" class="collapse nav-in-nav"> 
					<li ng-repeat="series in pnp" class="family-item" ng-class="seriesFilter==series?'nav-'+series:''"><a ng-class="seriesFilter==series?'white-text':''" ng-click="filterSeries(series)">{{series}} Series</a></li>
				</ul> -->
				<li><a data-toggle="collapse" class="collapsed" data-target="#by-series" data-parent="#Products">By Series </a></li>
				<ul id="by-series" class="collapse nav-in-nav"> 
					<li ng-repeat="series in seriesName" class="family-item" ng-class="seriesFilter==series?'nav-'+series:''"><a ng-class="seriesFilter==series?'white-text':''" ng-click="filterUrl(series, 'series')">{{series}} Series</a></li>
				</ul>
				<li><a data-toggle="collapse" class="collapsed" data-target="#by-size" data-parent="#Products">By Size </a></li>
				<ul id="by-size" class="collapse nav-in-nav"> 
					<li ng-repeat="size in sizeName" class="family-item" ng-class="sizeFilter==size?'active-size':''"><a ng-class="sizeFilter==size?'black-text':''" ng-click="filterUrl(size, 'size')">{{size}}</a></li>
				</ul>
				<li><a data-toggle="collapse" class="collapsed" data-target="#by-tag" data-parent="#Products">By Tag </a></li>
				<ul id="by-tag" class="collapse nav-in-nav"> 
					<li ng-repeat="tag in tagName" class="family-item" ng-class="tagFilter==tag?'active-size':''"><a ng-class="tagFilter==size?'black-text':''" ng-click="filterUrl(tag, 'tag')">{{tag}}</a></li>
				</ul>
			<ul>
			</ul>
		</div>
		<div class="col-sm-9">
			<h3>{{filtered.length}} available compounds. <a class="align-right" href="/support/misc/Compounds_Sorting.xlsx" download target="_self">Download our entire product list here.</a></h3>
			<div ng-repeat="x in compounds | filter:{Series: seriesFilter, Name: sizeFilter, Family: tagFilter} | filter:nameFilter as filtered" class="row">
				<div class="col-sm-12">
				<p class="series-{{x.Series}}">
					No. {{x.id}} | {{x.Name}}
					<a ng-hide="isPNP(x.Family)" class="white-text float-right" ng-href="../support/{{x.Family}}-sheets/Safety_{{x.Family}}-{{x.id}}.pdf" target="_self"><span class="glyphicon glyphicon-exclamation-sign"></span></a> 
					<a ng-hide="isPNP(x.Family)" class="white-text" ng-href="../support/Az-sheets/Product_{{x.Family}}-{{x.id}}.pdf" target="_self"><span class="glyphicon glyphicon-info-sign float-right"></span></a>
					<a ng-hide="!isPNP(x.Family)" class="white-text" ng-href="../support/pNP-sheets/Product Data Sheet cpd{{x.id}}.pdf" target="_self"><span class="glyphicon glyphicon-info-sign float-right"></span></a>
					<br>
					<span class="white-text" ng-hide="noPrice(x.Price)"> Price: $<span ng-bind="displayPrice(x.Price, pricing.value)"></span>
					<select class="black-text float-right pricing-box" ng-init="pricing=options[0]" ng-model="pricing" ng-options="option as option.label for option in options"></select>
					</span>
					<span class="white-text" ng-show="noPrice(x.Price)">Price: MSRP</span>
				</p>
				</div>			
				<div class="col-sm-10">
					<a data-target="#{{x.id}}" data-toggle="collapse" aria-expanded="false" aria-controls="{{x.id}}" class="collapsed"><p class="chemical-description">{{x.Structure}}<span class="glyphicon glyphicon-chevron-down align-right"></span></p></a>
					<div id="{{x.id}}" class="panel-collapse collapse" role="tabpanel"><img ng-src="{{x.Picture}}"></div>
				</div>
				<div class="col-sm-2">
				<ul id="availability" class="nav nav-pills nav-stacked">
					<li><a data-toggle="collapse" class="collapsed" data-target="#{{x.id}}-links" data-parent="#availability">Distributors <span class="glyphicon glyphicon-chevron-down align-right"></span></a></li>
						<ul id="{{x.id}}-links" class="collapse no-bullets">
							<li><a href="mailto:info@glycantherapeutics.com" target="_top">Glycan Therapeutics <span class="glyphicon glyphicon-chevron-right small" aria-hidden="true"></span></a></li>
							<li ng-hide="!availablity(x.Link_A)"><a href="{{x.Link_A}}" class="available">Galen Supplies <span class="glyphicon glyphicon-chevron-right small" aria-hidden="true"></span></a></li>
							<li ng-hide="!availablity(x.Link_B)"><a href="{{x.Link_B}}" class="available">Iduron <span class="glyphicon glyphicon-chevron-right small" aria-hidden="true"></span></a></li>
							<li ng-hide="!availablity(x.Link_C)"><a href="{{x.Link_C}}" class="available">Polysciences <span class="glyphicon glyphicon-chevron-right small" aria-hidden="true"></span></a></li>
						</ul>
				</ul>
				</div>
				<div style = "text-align:center;">
					<svg width="100%" height="2">
						<rect x="0" y="0" rx="2" ry="2" width="100%" height="1" style="fill:#ccc;" /> 
					</svg>
				</div>
			</div>
		</div>
	</div>
</div>

<script>
	var $Products = $('#Products');
	$Products.on('show.bs.collapse','.collapse', function() {
	    $Products.find('.collapse.in').collapse('hide');
	});
</script>